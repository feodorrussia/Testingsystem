{% extends "base.html" %}


{% block title %}
<title>POSTUPIL TEST</title>
{% endblock %}


{% block content %}
<!-- Page items -->
<div class="container-total">
    <div class="container-main" style="background-color:#000;margin: 10px 0;">
        <h1 align="center" style="align-self: center;color:orange;padding: 20px 30vw; margin: 0">Ваши результаты</h1>
        <div class="container-main" style="margin: 10px 10px; display: flex; width: auto">
            <div style="align-self: center;width: 27vw">
                <h2 align="center" style="align-self: center;padding: 10px 10px 10px 20px; margin: 0">Ваши баллы</h2>
            </div>
            <h2 align="center" style="width: 27vw;align-self: center;padding: 30px 1vw; margin: 0 10px">Название факультета</h2>
            <h2 align="center" style="width: 21vw;align-self: center;padding: 30px 1vw; margin: 0">Название университа</h2>
            <div style="width: 12vw;display: flex">
                <h4 align="center" style="align-self: center;padding: 30px 1vw; margin: 0">Предметы ЕГЭ</h4>
            </div>
            <h4 align="center" style="align-self: center;width: 12vw;padding: 30px 1vw; margin: 0">Проходной балл</h4>
        </div>
        {% for i in result %}
        <div class="container-main" style="margin: 10px 10px; display: flex; width: auto">
            <div style="width: 25vw">
                <h3 style="padding: 20px 10px 10px 20px; margin: 0">Ваш общий балл: {{i[1]}}</h3>
                <h3 style="padding: 10px 10px 20px 20px; margin: 0">Ваш средний балл: {{i[1]//3}}</h3>
            </div>
            <h2 align="center" style="width: 24vw;align-self: center;padding: 30px 3vw; margin: 0">{{facts.query.filter_by(id=i[0]).first().name}}</h2>
            <h2 align="center" style="width: 20vw;align-self: center;padding: 30px 3vw; margin: 0">{{uni[facts.query.filter_by(id=i[0]).first().id_uni - 1]}}</h2>
            <div style="width: 10vw;padding: 30px 1vw;display: flex">
                {% for score in sub_combs[sub_comb.query.filter_by(id_fac=i[0]).filter_by(subs=facts.query.filter_by(id=i[0]).first().subjects).filter_by(user=id_req).first().id] %}
                        {% if score[0]=="g" %}
                            <h2 align="center" style="align-self: center;color:#009900;padding-right: 10%; margin: 0">{{score[1:]}}</h2>
                        {% endif %}
                        {% if score[0]=="r" %}
                            <h2 align="center" style="align-self: center;color:#f80000;padding-right: 10%; margin: 0">{{score[1:]}}</h2>
                        {% endif %}
                    {% endfor %}
            </div>
                {% if facts.query.filter_by(id=i[0]).first().passing_score <= i[1] and sub_comb.query.filter_by(id_fac=i[0]).filter_by(subs=facts.query.filter_by(id=i[0]).first().subjects).filter_by(user=id_req).first().fl == 1 %}
                    <h2 align="center" style="align-self: center;width: 10vw;color:#009900;padding: 30px 3vw; margin: 0">{{facts.query.filter_by(id=i[0]).first().passing_score}}</h2>
                {% endif %}
                {% if facts.query.filter_by(id=i[0]).first().passing_score > i[1] or sub_comb.query.filter_by(id_fac=i[0]).filter_by(subs=facts.query.filter_by(id=i[0]).first().subjects).filter_by(user=id_req).first().fl == 0 %}
                    <h2 align="center" style="align-self: center;width: 10vw;color:#f80000;padding: 30px 3vw; margin: 0">{{facts.query.filter_by(id=i[0]).first().passing_score}}</h2>
                {% endif %}
        </div>
    {% endfor %}
    <a style="color:orange" href="/"><h3 style="padding: 0 0 20vh 3vw">Главная</h3></a>
    </div>

</div>

{% endblock %}

{% block script %}

{% endblock %}